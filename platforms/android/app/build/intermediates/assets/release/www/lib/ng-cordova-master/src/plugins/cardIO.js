angular.module("ngCordova.plugins.cardIO",[]).provider("$cordovaNgCardIO",[function(){var defaultRespFields=["card_type","redacted_card_number","card_number","expiry_month","expiry_year","short_expiry_year","cvv","zip"],defaultScanConfig={expiry:!0,cvv:!0,zip:!1,suppressManual:!1,suppressConfirm:!1,hideLogo:!0};this.setCardIOResponseFields=function(fields){fields&&angular.isArray(fields)&&(defaultRespFields=fields)},this.setScanerConfig=function(config){config&&angular.isObject(config)&&(defaultScanConfig.expiry=config.expiry||!0,defaultScanConfig.cvv=config.cvv||!0,defaultScanConfig.zip=config.zip||!1,defaultScanConfig.suppressManual=config.suppressManual||!1,defaultScanConfig.suppressConfirm=config.suppressConfirm||!1,defaultScanConfig.hideLogo=config.hideLogo||!0)},this.$get=["$q",function($q){return{scanCard:function(){var deferred=$q.defer();return CardIO.scan(defaultScanConfig,function(response){if(null===response)deferred.reject(null);else{for(var respData={},i=0,len=defaultRespFields.length;i<len;i++){var field=defaultRespFields[i];respData[field]="short_expiry_year"===field?String(response.expiry_year).substr(2,2)||"":response[field]||""}deferred.resolve(respData)}},function(){deferred.reject(null)}),deferred.promise}}}]}]);