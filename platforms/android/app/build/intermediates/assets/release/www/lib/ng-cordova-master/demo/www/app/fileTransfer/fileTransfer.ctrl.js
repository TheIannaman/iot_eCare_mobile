angular.module("demo.fileTransfer.ctrl",[]).controller("FileTransferCtrl",["$scope","$rootScope","$cordovaFileTransfer","$timeout",function($scope,$rootScope,$cordovaFileTransfer,$timeout){$scope.downloadFile=function(){document.addEventListener("deviceready",function(){var fileDir=cordova.file.documentsDirectory+"testImage.png",download=$cordovaFileTransfer.download("http://cdn.wall-pix.net/albums/art-space/00030109.jpg",fileDir).then(function(success){$timeout(function(){$scope.downloadProgress=100},1e3)},function(error){},function(progress){$timeout(function(){$scope.downloadProgress=progress.loaded/progress.total*100})});.1<$scope.downloadProgress&&download.abort()})}}]);